<project name="MacrodefTest" default="main" basedir=".">

    <target name="main" depends="echo, echo2" />

    <macrodef name="echotest">
        <text name="text"/>
        <sequential>
            <echo>[Echo test] @{text}</echo>
        </sequential>
    </macrodef>

    <target name="echo">
        <echotest>
            Hello world
        </echotest>
    </target>

    <macrodef name="prefixecho">
        <attribute name="prefix" default=""/>
        <attribute name="postfix" default="."/>
        <text name="thetext"/>
        <sequential>
            <echo>[@{prefix}] @{thetext}@{postfix}</echo>
        </sequential>
    </macrodef>

    <target name="echo2">
        <prefixecho prefix="This is a test" postfix="!">
            Let's do this!
        </prefixecho>
    </target>

</project>
